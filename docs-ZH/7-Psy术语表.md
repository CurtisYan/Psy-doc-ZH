# Psy 术语表

我们常用定义/缩写的释义

本文档为整个 Psy 区块链文档中使用的常见术语、缩写和行话提供了一份词汇表。理解这些定义对于开发者完全掌握 Psy 网络的架构和机制至关重要。

我们希望这份列表能随着时间的推移而缩减。

## A

- **Agent (代理):** 在 Psy 以代理为中心的架构中，这通常指一个用户账户，特别是那种可能基于其可编程签名电路逻辑自主运行的账户，甚至可能没有传统的私钥。
- **ABI (应用二进制接口):** 定义了如何调用智能合约中的函数，包括函数签名和数据结构。Psy 合约将有一个 ABI 定义，其格式可能与其 Dapen 工具链兼容。
- **Aggregation Proof (聚合证明):** 一种零知识证明，它验证一个或多个其他的“子”ZK 证明，并且通常还基于这些子证明来证明一个组合的状态转换或计算。这是 Psy 可扩展性的核心。

## B

- **Block Proof (区块证明):** Psy 中一个完整区块（检查点）的最终、单一的零知识证明。它递归地验证该区块内所有的交易和状态变更，并且还验证前一个区块的证明，从而证实了从创世区块开始整个链的有效性。这是 `PsyCheckpointStateTransitionCircuit` 的输出。
- **Block Time (区块时间):** Psy 网络上最终化新区块（检查点）的目标间隔。Psy 旨在实现 `O(log(n))` 的区块时间，意味着生成一个区块的时间与活跃用户数成对数关系，而不是与交易数成线性关系。

## C

- **CFC (合约函数电路):** 一个零知识电路，代表 Psy 上单个智能合约函数的可执行逻辑。使用高级语言（例如，通过 Dapen）开发，并编译成 ZK 可证明的格式。CFCs 由用户在本地执行。
- **CFT (合约函数树):** 每个合约一个的 Merkle 树，其叶子是该合约所有已列入白名单、可执行函数的 ZK 电路指纹（验证者数据哈希）。作为 `CLEAF` 的一部分存储在 `GCON` 中。确保只有经过验证的代码才能被调用。
- **CHKP (检查点树 / 根):** Psy 中给定区块的最终信任根。它是一个只追加的 Merkle 树，第 N 个叶子是第 N 个区块整体状态（`PsyCheckpointLeaf`）的哈希。`CHKP` 根不可变地代表了该区块时区块链的整个状态快照。
- **`PsyCheckpointLeaf`:** 其哈希值成为 `CHKP` 树中一个叶子的数据结构。它包含特定区块的所有主要全局树的根（`GUSR`, `GCON`, `URT` 等）以及聚合的区块统计数据。
- **`PsyCheckpointStateTransitionCircuit`:** 生成最终区块证明的 ZK 电路。它验证来自 Coordinator 层的所有聚合状态转换证明以及前一个区块的证明，从而证明对 `CHKP` 树的正确更新。
- **CLEAF (合约叶):** `GCON` 树中的一个叶节点。包含已部署合约的全局元数据，包括其部署者标识符的哈希、其 `CFT` 的根，以及其关联的 `CSTATE` 树所需的高度（大小）。
- **Coordinator (协调者):** 一个网络角色，负责编排区块证明聚合的最后阶段，管理全局状态组件（如 `GCON`, `URT`, `CHKP` 根），处理全局操作（注册、部署），并与证明矿工就这些任务进行交互。
- **CSTATE (合约状态树):** PARTH 中最细粒度的状态树。它特定于**单个用户和单个合约**。它持有与该用户在该合约内相关的实际状态变量（存储槽）。智能合约逻辑 (CFCs) 主要操作和修改用户的 `CSTATE` 树。

## D

- **DA Miner (数据可用性矿工):** 一个网络角色，负责存储区块链状态数据（特别是用户的 `CSTATE` 增量和树），并证明其可用性。
- **Dapen (DPN):** Psy 中用于以高级语言（如受 TypeScript/JavaScript 启发的语法）开发智能合约并将其编译为可验证的合约函数电路 (CFCs) 的工具链和框架。
- **Delta Merkle Proof (增量 Merkle 证明):** 一种 Merkle 证明，不仅证明叶子的存在，还证明该叶子从旧值到新值的转换，并因此证明 Merkle 树根从旧根到新根的转换。在 Psy 中广泛用于证明状态变更。
- **Deferred Transaction / Debt Tree (延迟交易 / 债务树):** UPS 内的一种机制，允许一笔交易为后续相关的交易（例如，外部调用的响应）创建一个义务（债务），以便在同一 UPS 或未来的 UPS 中稍后处理。通过 Merkle 树进行管理。

## E

- **End Cap Proof (封顶证明):** 在用户证明会话 (UPS) 结束时生成的最终、单一的 ZK 证明。它总结并验证了用户在该区块的本地交易的整个序列，并由用户基于 ZK 的签名授权。这是用户提交给 Realms 的内容。
- **`EDATA` (事件数据树):** 一个概念上的全局树，用于存储智能合约发出的事件数据。

## F

- **Fingerprint (电路指纹):** 一个 ZK 电路的验证者数据的哈希。用于唯一标识一个电路，并确保只有白名单中的电路被执行或聚合。

## G

- **GCON (全局合约树):** 一个全局 Merkle 树，存储关于 Psy 网络上所有已部署智能合约的信息。每个叶子 (`CLEAF`) 包含特定合约的元数据，包括其 `CFT` 根。
- **`GDT` (全局存款树):** 一个全局树，可能用于管理和证明从外部链或来源进入 Psy 生态系统的存款。
- **GUSR (全局用户树):** 一个全局 Merkle 树，聚合了 Psy 上所有已注册的用户。每个叶子 (`ULEAF`) 对应一个用户 ID，并包含其公钥承诺、余额、nonce、最后同步的检查点 ID，以及其个人 `UCON` 树的根。
- **GUTA (全局用户树聚合 / 聚合器):** 负责在 Realms 之间并上至 Coordinator 级别，递归地聚合用户 End Cap 证明（及其隐含的 `GUSR` 状态转换）的过程和 ZK 电路集。
- **`GlobalUserTreeAggregatorHeader`:** GUTA 电路输出的标准化数据结构，代表 `GUSR` 树一个分段的聚合状态转换，以及相关元数据，如其所基于的 `checkpoint_tree_root` 和 `guta_circuit_whitelist_root`。
- `GWT` **(全局取款树):** 一个全局树，可能用于管理和证明从 Psy 生态系统的取款。

## H

- **Horizontal Scalability (水平可扩展性):** 系统通过并行增加更多处理单元（例如，Psy 中的证明矿工）来提高其吞吐量的能力，而不会按比例增加协调开销或瓶颈。Psy 通过 PARTH 和并行的 ZKP 聚合来实现这一点。

## K

- **KVQ (键值队列):** Psy 中的一个自定义 Rust 库，为与 Redis 等后端进行结构化、类型安全的交互提供了一个抽象层，用于存储证明、状态和管理作业队列。

## L

- **Local Proving (本地证明):** Psy 中的一个过程，用户在自己的设备上（或通过受信任的代理）执行他们的交易并为其生成 ZK 证明，而不是将原始交易提交给网络进行执行和验证。
- **Line Proof (线性证明):** 在聚合树（如 GUTA）中使用的一种 Merkle 证明优化，用于有效地将一个已验证的状态转换从较低节点沿树中一条直接、无分支的路径向上传播到更高层级的节点。

## M

- **Merkle Tree (默克尔树):** 一种树形数据结构，其中每个叶节点都标有数据块的密码学哈希，每个非叶节点都标有其子节点标签的密码学哈希。在 Psy 中广泛用于状态承诺和验证。
- **MEV (最大可提取价值):** 网络参与者（矿工/验证者）通过重排序、插入或审查交易从用户那里提取的价值。Psy 的设计旨在最小化或消除有害的 MEV。

## N

- **NCA (最近公共祖先):** 在树结构中，两个节点的 NCA 是同时拥有这两个节点作为后代的最低（最深）的节点。NCA 证明在 GUTA 中用于合并来自 `GUSR` 树两个独立分支的状态转换。
- **Nonce:** 通常与账户关联的一个数字，每次交易或会话都会递增，以防止重放攻击。Psy 用户的 nonce 在其 `ULEAF` 内管理。

## P

- **PARTH (并行递升递归树层级):** Psy 的新型状态架构，通过划分状态（特别是用户-合约状态）和定义严格的访问规则（本地化写入，历史性全局读取）来实现大规模并行化。
- **PoUW (有用工作量证明):** Psy 的共识机制，网络参与者（证明矿工、DA 矿工）因执行对网络运营、安全和可扩展性直接有用的工作（例如，生成 ZK 聚合证明，存储和证明数据可用性）而获得奖励。
- **Proof Miner (证明矿工):** Psy 中的一个网络角色，执行计算密集型的 ZK 证明生成工作，用于聚合用户 End Cap 证明和其他网络级别的证明。
- **Public Key (Psy 公钥):** 在 Psy 中，用户的公钥不是传统的 ECC 密钥。它是用户选择的基于 ZK 的签名电路的验证者数据的哈希，与一个用户定义的参数相结合。这实现了“软件定义密钥” (SDKeys)。

## Q

- **`QHashOut`:** Psy 电路定义中使用的一种类型，很可能代表在 ZK 证明中使用的特定哈希函数（例如 Poseidon）的输出，通常由多个域元素组成。
- **`QProvingJobDataID`:** Psy 分布式证明系统中特定 ZK 证明作业的标识符。

## R

- **Realm:** Psy 中的一个网络角色，作为用户 End Cap 证明和状态增量的分布式接收点。Realms 管理全局用户树 (`GUSR`) 的特定分段（分片），并为其分段内的用户启动第一级的 GUTA 证明聚合。
- **Recursive Proof (递归证明):** 一种验证一个或多个其他 ZK 证明的 ZK 证明。这项技术是 Psy 扩展验证能力的基础，允许将许多证明压缩成一个单一的最终证明。

## S

- **SDKey (软件定义密钥):** Psy 的可编程公钥系统，其中密钥的行为和验证逻辑由一个 ZK 电路定义。
- **Signature (Psy 签名):** 在 Psy 中，授权用户证明会话的“签名”本身就是由用户选择的签名电路生成的 ZK 证明。该证明证实了对于给定的会话数据，签名电路中定义的条件已得到满足。
- **Signature Circuit (签名电路):** 其验证者数据哈希（加上参数）构成用户公钥的 ZK 电路。它定义了为该用户生成有效签名证明的逻辑。
- **Spiderman Append Proof (蜘蛛侠追加证明):** Psy 中使用的一种特定类型的 ZK 证明（可能为 Merkle 树追加操作进行了优化），用于像批量追加到 `URT` 或 `GCON` 这样的操作。
- **`StateReaderGadget`:** Dapen CFCs 内的一个组件，用于处理与合约状态 (`CSTATE`) 的交互，以可证明的方式模拟读取和写入。

## U

- **UCON (用户合约树):** 每个用户一个的 Merkle 树，将合约 ID 映射到该用户相应 `CSTATE` 树的根。它代表了用户在所有与之交互过的合约上的状态足迹。作为 `ULEAF` 的一部分存储。
- **ULEAF (用户叶):** `GUSR` 树中的一个叶节点，对应一个唯一的用户 ID。它包含用户的公钥承诺、余额、nonce、最后同步的检查点 ID，以及其 `UCON` 树的根。
- **UPS (用户证明会话):** 用户在本地执行一系列交易、为每个交易生成 ZK 证明，并将这些证明递归地组合成一个单一的“End Cap”证明以提交给网络的过程。
- **`UPSStartSessionCircuit`:** 启动 UPS 的 ZK 电路，将其锚定到一个全局最终化的检查点和用户有效的起始状态。
- **`UPSCFCStandardTransactionCircuit`:** UPS 内的一个 ZK 电路，它验证一个 CFC 证明，并根据该 CFC 的执行结果，证明对 UPS 状态（例如 `UCON` 根、债务树）的正确更新。
- **`UPSStandardEndCapCircuit`:** 最终化 UPS 的 ZK 电路，验证本地证明的整个链条、用户的签名，并确保所有会话条件（如已清算的债务）都得到满足。
- **URT (用户注册树):** 一个全局 Merkle 树，在注册过程中提交用户公钥，确保唯一性并将注册与密码学身份关联起来。

## V

- **Validator (验证者):** 在其他区块链（特别是 PoS）中常见的术语，指验证交易和提议区块的节点。Psy **不使用**这种传统意义上的验证者；其安全性依赖于“数学证明” (ZKPs) 和 PoUW。
- **Verifier Data (验证者数据):** 特定于 ZK 电路的数据，验证者需要用它来检查由该电路生成的证明。验证者数据的哈希通常作为电路的唯一指纹。

## Z

- **ZKP (零知识证明):** 一种密码学协议，一方（证明者）可以向另一方（验证者）证明一个陈述是真实的，而无需透露除陈述有效性之外的任何信息。